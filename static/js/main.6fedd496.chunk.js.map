{"version":3,"sources":["utils/utils.js","components/ProductList.js","components/Select.js","components/Cart.js","components/Nav.js","components/App.js","api/shop.js","models/products.js","models/cart.js","models/select.js","index.js"],"names":["d","byId","result","map","id","ProductList","_this$props","this","props","products","addToCart","select","list","productSize","length","item","key","react_default","a","createElement","className","src","concat","sku","alt","title","price","installments","Math","round","es_button","type","onClick","disabled","style","margin","lineHeight","React","Component","connect","_ref","selected","dispatch","payload","SelectSizesDemo","addToSize","CheckboxGroup","Checkbox","Group","sizes","fontSize","options","defaultValue","onChange","value","size","Cart","state","visible","placement","showDrawer","_this","setState","onClose","subtotal","onCheckout","loading","checking","num","deleteProducts","doDecrease","doIncrease","nodes","quantity","width","height","padding","float","icon","display","paddingTop","marginLeft","border","marginRight","badge","count","drawer","closable","listStyle","color","cart","added","Object","objectSpread2","quantities","reduce","amount","toFixed","models","effects","log","Nav","Highest","Option","Select","OnChange","children","paddingLeft","es_select","change","App","components_Nav","src_components_ProductList","components_Cart","shop","axios","get","Promise","resolve","reject","setTimeout","schema","Entity","models_products","namespace","query","regenerator_default","mark","action","call","put","res","wrap","_context","prev","next","sent","normalize","data","stop","reducers","setProducts","_ref2","entities","initialState","addedSelect","models_cart","add","product","_ref3","console","minus","_ref4","_ref5","_ref6","_context2","checkout","_ref7","_ref8","_ref9","_context3","delete","_delete","_ref10","_ref11","_ref10$payload","_ref12","checkAdult","deleteNum","deleteAdded","_context4","logs","filter","_ref13","_ref13$payload","includes","toConsumableArray","defineProperty","decrease","_ref14","_ref14$payload","checkoutCompleted","deletelog","_ref15","_ref15$payload","models_select","_ref$payload","changes","s","i","availableSizes","_ref3$payload","sort","b","app","dva","model","use","createLoading","router","components_App","start"],"mappings":"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","file":"static/js/main.6fedd496.chunk.js","sourcesContent":["\r\nexport const d = (byId, result) => result.map(id => byId[id])\r\n","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { d } from '../utils/utils';\r\nimport {  Button} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './ProductList.css';\r\n\r\n\r\n\r\n\r\nclass ProductList extends React.Component {\r\n \r\n render() {\r\n    const { products, addToCart, select } = this.props;\r\n    const list = (select.productSize.length === 0 ? products : select.productSize).map((item, key) => (\r\n      <div key={key} className={'item-cloth'}>\r\n        <div className='pname'>\r\n          <img src={`./static/products/${item.sku}_1.jpg`} alt=\"\" />\r\n          <div>{item.title}</div>\r\n          <div>price:${item.price}</div>\r\n          <div>installments:{item.installments}*{Math.round((item.price / item.installments) * 100) / 100}$</div>\r\n        </div>\r\n        <div className={'item-button'}>\r\n          <Button className={'buttons'} type=\"primary\" onClick={() => addToCart(item.id)} disabled={!item.installments} ><p style={{ margin: 'auto', lineHeight: '0px' }}>添加购物车</p></Button>\r\n        </div>\r\n      </div>\r\n    ));\r\n    \r\n\r\n    return (\r\n      <div>\r\n        <div className='item'>\r\n          {list}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = ({ products, selected }) => ({\r\n  products: d(products.byId, products.result),\r\n  select: selected\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addToCart: (id) => dispatch({\r\n    type: 'cart/add',\r\n    payload: {\r\n      id\r\n    }\r\n  }),\r\n  \r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList);","\r\nimport React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport {connect} from 'dva';\r\nimport { Checkbox} from 'antd';\r\nimport './index.css'\r\nclass SelectSizesDemo extends React.Component {\r\n  \r\n \r\nrender() {\r\n  const {  addToSize } = this.props;\r\n  const CheckboxGroup = Checkbox.Group\r\n  const sizes =['XS', 'S', 'M', 'ML', 'L', 'XL', 'XXL'];\r\n   \r\n    return (\r\n      <div className={'size-checkbox'}>\r\n        <span style={{fontSize:'30px'}}>Size:</span>\r\n        <CheckboxGroup\r\n        options={sizes}\r\n        defaultValue={sizes}\r\n        onChange={(value)=>{addToSize(value)}}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addToSize:(size) =>dispatch({\r\n    type: 'selected/add',\r\n    payload: {\r\n      size:size\r\n    }\r\n  })\r\n})\r\nexport default connect(null,mapDispatchToProps)(SelectSizesDemo);\r\n","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { Drawer, Button, Badge,Icon } from \"antd\";\r\nclass Cart extends React.Component {\r\n  state = { visible: false, placement: \"right\" };\r\n\r\n  showDrawer = () => {\r\n    this.setState({\r\n      visible: true\r\n    });\r\n  };\r\n\r\n  onClose = () => {\r\n    this.setState({\r\n      visible: false\r\n    });\r\n  };\r\n\r\n\r\n  render() {\r\n   \r\n    \r\n    const { products, subtotal, onCheckout, loading, checking,num,deleteProducts,doDecrease ,doIncrease} = this.props;\r\n    const nodes = products.map((item, key) => (\r\n      <li key={key}>\r\n        {item.title} {item.price} x {item.quantity}\r\n        <button disabled={item.quantity==1} onClick={()=>doDecrease(item.id)}>-</button>\r\n        <button onClick={()=>doIncrease(item.id)}>+</button>\r\n        <Button onClick={()=>deleteProducts(item.id,item.quantity)} style={{width:'20px',height:'20px',padding:'0',float:'right'}}><Icon type=\"close\" style={{ fontSize: '20px' }}/></Button>\r\n      </li>\r\n    ));\r\n    \r\n    return (\r\n      <div style={{ display: 'flex', width: \"100%\" ,paddingTop:'20px'}}>\r\n        <Button style={{ height: '64px', display: 'flex', marginLeft: 'auto', border: \"none\" }} onClick={this.showDrawer}>\r\n          <span style={{ marginRight: 24 }} >\r\n            <Badge count={num}>\r\n            <Icon type=\"shopping-cart\" style={{ fontSize: '50px' }} />\r\n            </Badge>\r\n          </span>\r\n        </Button>\r\n        <Drawer\r\n          title=\"购物车\"\r\n          placement={this.state.placement}\r\n          closable={false}\r\n          onClose={this.onClose}\r\n          visible={this.state.visible}\r\n        >\r\n          <ul style={{listStyle:\"none\"}}>{nodes}</ul>\r\n          <div>Total: {subtotal}</div>\r\n          <div>\r\n            {checking && <div style={{ color: 'red' }}>Checking ...</div>}\r\n            <Button onClick={onCheckout} disabled={subtotal <= 0.00 || loading} ><p style={{ margin: 'auto', lineHeight: '0px' }}>Checkout</p></Button>\r\n          </div>\r\n        </Drawer>\r\n\r\n      </div>\r\n    );\r\n  };\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = ({ cart, products, loading }) => ({\r\n  products: cart.added.map(id => ({ ...products.byId[id], quantity: cart.quantities[id] })),\r\n  subtotal: cart.added.reduce((amount, id) => products.byId[id].price * cart.quantities[id] + amount, 0).toFixed(2),\r\n  loading: loading.models['cart'],\r\n  checking: loading.effects['cart/checkout'],\r\n  num:cart.num\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n   onCheckout: () => dispatch({\r\n    type: 'cart/checkout'\r\n  }),\r\n   deleteProducts:(log,num)=>dispatch({\r\n    type: 'cart/delete',\r\n    payload:{log,num} \r\n  }),\r\n    doDecrease:(id)=>dispatch({\r\n        type:'cart/minus',\r\n        payload: {\r\n            id\r\n        }\r\n    }),\r\n    doIncrease:(id)=>dispatch({\r\n        type:'cart/add',\r\n        payload: {\r\n            id\r\n        }\r\n    })\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n","import React from 'react';\r\nimport { connect } from 'dva';\r\nimport { d } from '../utils/utils';\r\nimport { Select } from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './ProductList.css';\r\n\r\n\r\n\r\n\r\nclass Nav extends React.Component {\r\n  Highest=()=>{\r\n\r\n  }\r\n render() {\r\n    const { Option } = Select;\r\n    const { products, select , OnChange} = this.props;\r\n   \r\n const children = [ <Option key={ \"default\"}>{ \"默认排序\"}</Option>,<Option key={ \"Highest\"}>{ \"价格由高到低\"}</Option>,<Option key={ \"lowest\"}>{ \"价格由低到高\"}</Option>];\r\n  \r\n\r\n    return (\r\n      <div style={{paddingLeft:'150px'}}>\r\n        <h1>{(select.productSize.length === 0 ? products.length : select.productSize.length)} 件相关货物</h1>\r\n        <div id=\"components-dropdown-demo-dropdown-button\">\r\n\r\n          \r\n          <Select\r\n          defaultValue=\"默认排序\"\r\n          onChange={(value)=>OnChange(value,select.size)}\r\n          style={{ width: 200 }}\r\n        >\r\n          {children}\r\n        </Select>\r\n         \r\n        </div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = ({ products, selected }) => ({\r\n    products: d(products.byId, products.result),\r\n    select: selected\r\n  \r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  OnChange: (change,size) => dispatch({\r\n     type: 'selected/add',\r\n     payload: {\r\n       change,\r\n       size\r\n     }\r\n   }),\r\n  \r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);","import React from 'react';\r\nimport {connect} from 'dva';\r\nimport ProductList from './ProductList';\r\nimport SelectSizesDemo from './Select';\r\nimport Cart from './Cart';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport Nav from \"./Nav\";\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        const {dispatch} = this.props;\r\n\r\n        dispatch({\r\n            type: 'products/query'\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={'app-index'}>\r\n                <div><SelectSizesDemo/></div>\r\n                <div>\r\n                    <Nav/>\r\n                    <ProductList/>\r\n                </div>\r\n                <div><Cart/></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect()(App);\r\n","/**\r\n * Mocking client-server processing\r\n */\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  getProducts: () => axios.get('products.json'),\r\n  buyProducts: (payload) => new Promise((resolve, reject) => setTimeout(() => resolve(payload), 2000)) //只是为了模拟axios.post的效果\r\n}\r\n","import { normalize, schema } from \"normalizr\";\r\n\r\nimport shop from \"../api/shop\";\r\n\r\nconst products = new schema.Entity(\"products\");\r\n\r\nexport default {\r\n  namespace: \"products\",\r\n  state: {\r\n    result: [], \r\n    byId: {}\r\n  },\r\n  effects: {\r\n    *query(action, { call, put }) {\r\n      const res = yield call(shop.getProducts);\r\n      yield put({\r\n        type: \"setProducts\",\r\n        payload: normalize(res.data, [products])\r\n      });\r\n    }\r\n  },\r\n  reducers: {\r\n    setProducts: (state, { payload }) => {\r\n      return {\r\n        ...state,\r\n        byId: payload.entities.products,\r\n        result: payload.result\r\n      };\r\n    }\r\n  }\r\n};\r\n","import shop from \"../api/shop\";\r\n\r\nconst initialState = {\r\n    added: [],\r\n    quantities: {\r\n    },\r\n    addedSelect:[],\r\n    num:0\r\n  }\r\nexport default {\r\n  namespace: \"cart\",\r\n  state: initialState,\r\n  effects: {\r\n    *add({payload: { id }}, {  put, select }) {\r\n      const product = yield select(state => state.products.byId[id]);\r\n      console.log('product', product);\r\n      const { cart } = yield select();\r\n    \r\n     \r\n      const num=cart.num+1;\r\n        yield put({\r\n          type: 'addToCart',\r\n          payload: {\r\n            id,\r\n            num\r\n          }\r\n        })\r\n      \r\n   },\r\n    *minus({payload: { id }}, {  put, select }) {\r\n      const product = yield select(state => state.products.byId[id]);\r\n      console.log('product', product);\r\n      const { cart } = yield select();\r\n\r\n\r\n      const num=cart.num-1;\r\n      yield put({\r\n        type: 'decrease',\r\n        payload: {\r\n          id,\r\n          num\r\n        }\r\n      })\r\n\r\n    },\r\n    *checkout( {payload}, {call, put, select}) {\r\n      const { cart } = yield select();\r\n      console.log(\"checkout cart\", cart);\r\n      const res = yield call(shop.buyProducts, cart);\r\n      yield put({\r\n        type: \"checkoutCompleted\",\r\n        payload: res\r\n      });\r\n    },\r\n    *delete({payload: { log,num }}, {  put, select }){\r\n      const { cart } = yield select();\r\n      const checkAdult=(logs)=> {return logs!==log};\r\n      const deleteNum=cart.num-num\r\n      const deleteAdded=cart.added.filter(checkAdult);\r\n      console.log(cart.quantities);\r\n     \r\n      yield put({\r\n        type: \"deletelog\",\r\n        payload: {\r\n          deleteAdded:deleteAdded,\r\n          deleteNum:deleteNum,\r\n         log:log\r\n        }\r\n      });\r\n    }\r\n  },\r\n  reducers: {\r\n    addToCart: (state, { payload: { id,num } }) => {\r\n      console.log('state',state)\r\n      return {\r\n        ...state,\r\n        added: state.added.includes(id) ? [...state.added] : [...state.added, id],\r\n        quantities: {\r\n          ...state.quantities,\r\n          [id]: (state.quantities[id] || 0) + 1\r\n        },\r\n        num:num\r\n      }\r\n    },\r\n    decrease: (state, { payload: { id,num } }) => {\r\n      console.log('state',state)\r\n      return {\r\n        ...state,\r\n        added: state.added.includes(id) ? [...state.added] : [...state.added, id],\r\n        quantities: {\r\n          ...state.quantities,\r\n          [id]: (state.quantities[id] || 0) - 1\r\n        },\r\n        num:num\r\n      }\r\n    },\r\n    checkoutCompleted: () => initialState,\r\n    deletelog:(state,{payload:{deleteAdded,deleteNum,log}})=>{\r\n      return {\r\n        ...state,\r\n        added:deleteAdded,\r\n        num:deleteNum,\r\n        quantities:{\r\n          ...state.quantities,\r\n          [log]:0\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n","import shop from \"../api/shop\";\r\n\r\n\r\nexport default {\r\n  namespace: \"selected\",\r\n  state: {size: ['XS', 'S', 'M', 'ML', 'L', 'XL', 'XXL'],\r\n  productSize:[],\r\n  change:'default',\r\n  },\r\n  \r\n  effects: {\r\n    \r\n    *add({payload: { size ,change}}, {  put ,call }) {\r\n      const res = yield call(shop.getProducts);\r\n      //const { selected } = yield select();\r\n      \r\n      const checkAdult=(product)=> {\r\n        for(var s=0; s<size.length;s++){\r\n          for(var i=0;i<product.availableSizes.length;i++){\r\n            if (size[s]===product.availableSizes[i]){\r\n              return product;\r\n            }\r\n          }\r\n      }\r\n      };\r\n      const productSize=res.data.filter(checkAdult);\r\n      const changes=change\r\n      const products=res.data.filter(checkAdult);\r\n       console.log(productSize)\r\n      yield put({\r\n          type: 'addToSize',\r\n          payload: {\r\n            size,\r\n            productSize,\r\n            changes,\r\n            products\r\n          }\r\n        })\r\n      \r\n    },\r\n    \r\n  },\r\n  reducers: {\r\n    addToSize: (state, { payload: { size,productSize ,changes,products} }) => {\r\n      return {\r\n        ...state,\r\n        size:size,\r\n        productSize:(changes==='default'?products:(changes==='Highest'?(productSize.sort((a, b)=>{return b.price - a.price})):(productSize.sort((a, b)=>{return a.price - b.price})))),\r\n        change:changes\r\n      }\r\n    },\r\n    \r\n  }\r\n};\r\n\r\n","import React from 'react';\r\nimport dva from 'dva';\r\nimport createLoading from 'dva-loading';\r\nimport App from './components/App';\r\nimport products from './models/products';\r\nimport cart from './models/cart';\r\nimport select from './models/select';\r\n\r\nconst app = dva();\r\napp.model(products);\r\napp.model(cart);\r\napp.model(select);\r\napp.use(createLoading());\r\napp.router(() => <App />);\r\napp.start('#root');\r\n"],"sourceRoot":""}