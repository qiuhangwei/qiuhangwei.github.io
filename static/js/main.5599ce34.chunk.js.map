{"version":3,"sources":["utils/utils.js","components/chooseSize.jsx","components/ProductList.js","components/Select.js","components/Cart.js","components/Nav.js","components/App.js","api/shop.js","models/products.js","models/cart.js","models/select.js","index.js"],"names":["d","byId","result","map","id","ChooseSize","state","sizeSelected","handleSizeChange","e","console","log","_this","setState","target","value","handleOk","props","onOk","react_default","a","createElement","modal","title","visible","this","onCancel","es_radio","Group","options","sizes","optionType","onChange","bind","React","Component","ProductList","availableSizes","currentId","doAddToCart","size","addToCart","_this2","_this$props","products","select","_this$state","list","productSize","length","item","key","className","src","concat","sku","alt","Number","price","toFixed","installments","Math","round","es_button","type","onClick","disabled","style","margin","lineHeight","components_chooseSize","connect","_ref","selected","dispatch","payload","SelectSizesDemo","addToSize","CheckboxGroup","Checkbox","fontSize","Cart","placement","showDrawer","onClose","subtotal","onCheckout","loading","checking","num","deleteProducts","doDecrease","doIncrease","nodes","marginBottom","display","alignItems","width","height","flexGrow","quantity","padding","float","icon","paddingTop","marginLeft","border","marginRight","badge","count","drawer","closable","listStyle","color","cart","added","Object","objectSpread2","quantities","reduce","amount","models","effects","Nav","Highest","Option","Select","OnChange","children","paddingLeft","es_select","defaultValue","change","App","components_Nav","src_components_ProductList","components_Cart","shop","axios","get","Promise","resolve","reject","setTimeout","schema","Entity","models_products","namespace","window","localStorage","localProducts","JSON","parse","query","regenerator_default","mark","action","call","put","res","wrap","_context","prev","next","sent","normalize","data","stop","reducers","setProducts","_ref2","entities","initialState","localCart","addedSelect","models_cart","add","_ref$payload","product","_ref3","minus","_ref4","_ref5","_ref6","_context2","checkout","_ref7","_ref8","_ref9","_context3","removeItem","message","success","location","reload","delete","_delete","_ref10","_ref11","_ref10$payload","_ref12","checkAdult","deleteNum","deleteAdded","_context4","logs","filter","_ref13","_ref13$payload","stringify","includes","toConsumableArray","defineProperty","decrease","_ref14","_ref14$payload","checkoutCompleted","deletelog","_ref15","_ref15$payload","models_select","changes","s","i","_ref3$payload","sort","b","app","dva","onStateChange","model","use","createLoading","router","components_App","start"],"mappings":"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","file":"static/js/main.5599ce34.chunk.js","sourcesContent":["\r\nexport const d = (byId, result) => result.map(id => byId[id])\r\n","import React from 'react';\r\nimport {connect} from 'dva';\r\nimport {d} from '../utils/utils';\r\nimport {Button, Modal,Radio} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './chooseSize.css';\r\n\r\n\r\nclass ChooseSize extends React.Component {\r\n\r\n    state = {\r\n        sizeSelected:''\r\n    }\r\n\r\n    handleSizeChange =(e)=>{\r\n        console.log(e);\r\n        this.setState({sizeSelected:e.target.value})\r\n    }\r\n\r\n    handleOk =()=>{\r\n        let {sizeSelected} = this.state\r\n        this.props.onOk(sizeSelected)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal title={'请选择尺码'} visible={this.props.visible} onCancel={this.props.onCancel}\r\n                       onOk={this.handleOk}>\r\n                    <Radio.Group options={this.props.sizes} optionType={\"button\"}\r\n                                 onChange={this.handleSizeChange.bind(this)}/>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\n\r\nexport default ChooseSize;","import React from 'react';\r\nimport {connect} from 'dva';\r\nimport {d} from '../utils/utils';\r\nimport {Button} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './ProductList.css';\r\nimport ChooseSize from \"./chooseSize\";\r\n\r\n\r\nclass ProductList extends React.Component {\r\n\r\n    state = {\r\n        availableSizes:[],\r\n        visible:false,\r\n        currentId:''\r\n    }\r\n\r\n    doAddToCart =(id,availableSizes)=>{\r\n        this.setState({availableSizes,visible:true,currentId:id})\r\n    }\r\n\r\n    onCancel =()=>{\r\n        this.setState({visible:false})\r\n    }\r\n\r\n    onOk =(size)=>{\r\n        console.log(size)\r\n        if(size){\r\n            this.props.addToCart(this.state.currentId,size)\r\n        }\r\n        this.setState({visible:false})\r\n    }\r\n\r\n    render() {\r\n        const {products, addToCart, select} = this.props;\r\n        let {availableSizes,visible} = this.state\r\n        const list = (select.productSize.length === 0 ? products : select.productSize).map((item, key) => {\r\n            console.log('艾特木',item);\r\n            return (\r\n                <div key={key} className={'item-cloth'}>\r\n                    <div className='pname'>\r\n                        <img src={`./static/products/${item.sku}_1.jpg`} alt=\"\"/>\r\n                        <div>{item.title}</div>\r\n                        <div>price:${Number(item.price).toFixed(2)}</div>\r\n                        <div>installments:{item.installments}*{Math.round((item.price / item.installments) * 100) / 100}$</div>\r\n                    </div>\r\n                    <div className={'item-button'}>\r\n                        <Button className={'buttons'} type=\"primary\" onClick={this.doAddToCart.bind(this,item.id,item.availableSizes)}\r\n                                disabled={!item.installments}><p style={{margin: 'auto', lineHeight: '0px'}}>添加购物车</p>\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        });\r\n\r\n\r\n        return (\r\n            <div>\r\n                <div className='item'>\r\n                    {list}\r\n                </div>\r\n                <ChooseSize sizes={availableSizes} visible={visible} onCancel={this.onCancel.bind(this)} onOk={this.onOk.bind(this)}/>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = ({products, selected}) => {\r\n    console.log('普罗达克茨', selected);\r\n    return {\r\n        products: d(products.byId, products.result),\r\n        select: selected\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    addToCart: (id,size) => dispatch({\r\n        type: 'cart/add',\r\n        payload: {\r\n            id,\r\n            size\r\n        }\r\n    }),\r\n\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList);","\r\nimport React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport {connect} from 'dva';\r\nimport { Checkbox} from 'antd';\r\nimport './index.css'\r\nclass SelectSizesDemo extends React.Component {\r\n  \r\n \r\nrender() {\r\n  const {  addToSize } = this.props;\r\n  const CheckboxGroup = Checkbox.Group\r\n  const sizes =['XS', 'S', 'M', 'ML', 'L', 'XL', 'XXL'];\r\n   \r\n    return (\r\n      <div className={'size-checkbox'}>\r\n        <span style={{fontSize:'30px'}}>Size:</span>\r\n        <CheckboxGroup\r\n        options={sizes}\r\n        onChange={(value)=>{\r\n          console.log('看看值',value);\r\n          value = value.length == 0?sizes:value\r\n          addToSize(value)}\r\n        }/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addToSize:(size) =>dispatch({\r\n    type: 'selected/add',\r\n    payload: {\r\n      size:size\r\n    }\r\n  })\r\n})\r\nexport default connect(null,mapDispatchToProps)(SelectSizesDemo);\r\n","import React from 'react';\r\nimport {connect} from 'dva';\r\nimport {Drawer, Button, Badge, Icon} from \"antd\";\r\nimport './index.css'\r\n\r\nclass Cart extends React.Component {\r\n    state = {visible: false, placement: \"right\"};\r\n\r\n    showDrawer = () => {\r\n        this.setState({\r\n            visible: true\r\n        });\r\n    };\r\n\r\n    onClose = () => {\r\n        this.setState({\r\n            visible: false\r\n        });\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n\r\n        const {products, subtotal, onCheckout, loading, checking, num, deleteProducts, doDecrease, doIncrease} = this.props;\r\n        const nodes = products.map((item, key) => (\r\n            <div key={key} style={{marginBottom:'10px'}}>\r\n                <div style={{display:\"flex\",alignItems:'center'}}>\r\n                    <div>\r\n                        <img style={{width: '30px', height: \"40px\"}} src={`./static/products/${item.sku}_1.jpg`}\r\n                             alt=\"\"/>\r\n                    </div>\r\n                    <div style={{flexGrow:1}}>\r\n                        <div>\r\n                            {item.title}&nbsp;&nbsp;{item.size}\r\n                        </div>\r\n                        <div>\r\n                            {item.price} x {item.quantity}\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <button className={'cart-button'} disabled={item.quantity == 1} onClick={() => doDecrease(item.id)}>-</button>\r\n                        <button className={'cart-button'} onClick={() => doIncrease(item.id)}>+</button>\r\n                    </div>\r\n                    <Button onClick={() => deleteProducts(item.id, item.quantity)}\r\n                            style={{width: '20px', height: '20px', padding: '0', float: 'right'}}>\r\n                        <Icon type=\"close\" style={{fontSize: '20px'}}/>\r\n                    </Button>\r\n                </div>\r\n\r\n            </div>\r\n        ));\r\n\r\n        return (\r\n            <div style={{display: 'flex', width: \"100%\", paddingTop: '20px'}}>\r\n                <Button style={{height: '64px', display: 'flex', marginLeft: 'auto', border: \"none\"}}\r\n                        onClick={this.showDrawer}>\r\n          <span style={{marginRight: 24}}>\r\n            <Badge count={num}>\r\n            <Icon type=\"shopping-cart\" style={{fontSize: '50px'}}/>\r\n            </Badge>\r\n          </span>\r\n                </Button>\r\n                <Drawer\r\n                    title=\"购物车\"\r\n                    placement={this.state.placement}\r\n                    closable={false}\r\n                    onClose={this.onClose}\r\n                    visible={this.state.visible}\r\n                >\r\n                    <div style={{listStyle: \"none\"}}>{nodes}</div>\r\n                    <div>Total: {subtotal}</div>\r\n                    <div>\r\n                        {checking && <div style={{color: 'red'}}>Checking ...</div>}\r\n                        <Button onClick={onCheckout} disabled={subtotal <= 0.00 || loading}>\r\n                            <p style={{margin: 'auto', lineHeight: '0px'}}>Checkout</p></Button>\r\n                    </div>\r\n                </Drawer>\r\n\r\n            </div>\r\n        );\r\n    };\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = ({cart, products, loading}) => {\r\n    console.log('卡特', cart, products)\r\n    return {\r\n        products: cart.added.map(id => ({...products.byId[id], quantity: cart.quantities[id]})),\r\n        subtotal: cart.added.reduce((amount, id) => products.byId[id].price * cart.quantities[id] + amount, 0).toFixed(2),\r\n        loading: loading.models['cart'],\r\n        checking: loading.effects['cart/checkout'],\r\n        num: cart.num\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    onCheckout: () => dispatch({\r\n        type: 'cart/checkout'\r\n    }),\r\n    deleteProducts: (log, num) => dispatch({\r\n        type: 'cart/delete',\r\n        payload: {log, num}\r\n    }),\r\n    doDecrease: (id) => dispatch({\r\n        type: 'cart/minus',\r\n        payload: {\r\n            id\r\n        }\r\n    }),\r\n    doIncrease: (id) => dispatch({\r\n        type: 'cart/add',\r\n        payload: {\r\n            id\r\n        }\r\n    })\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n","import React from 'react';\r\nimport {connect} from 'dva';\r\nimport {d} from '../utils/utils';\r\nimport {Select} from 'antd';\r\nimport 'antd/dist/antd.css';\r\nimport './ProductList.css';\r\n\r\n\r\nclass Nav extends React.Component {\r\n    Highest = () => {\r\n\r\n    }\r\n\r\n    render() {\r\n        const {Option} = Select;\r\n        const {products, select, OnChange} = this.props;\r\n\r\n        const children = [<Option key={\"default\"}>{\"默认排序\"}</Option>, <Option key={\"Highest\"}>{\"价格由高到低\"}</Option>,\r\n            <Option key={\"lowest\"}>{\"价格由低到高\"}</Option>];\r\n\r\n\r\n        return (\r\n            <div style={{paddingLeft: '150px'}}>\r\n                <h1>{(select.productSize.length === 0 ? products.length : select.productSize.length)} 件相关货物</h1>\r\n                <div id=\"components-dropdown-demo-dropdown-button\">\r\n\r\n\r\n                    <Select\r\n                        defaultValue=\"默认排序\"\r\n                        onChange={(value) => OnChange(value, select.size)}\r\n                        style={{width: 200}}\r\n                    >\r\n                        {children}\r\n                    </Select>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = ({products, selected}) => {\r\n    console.log('斯莱克提德',selected);\r\n    return {\r\n        products: d(products.byId, products.result),\r\n        select: selected\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    OnChange: (change, size) => dispatch({\r\n        type: 'selected/add',\r\n        payload: {\r\n            change,\r\n            size\r\n        }\r\n    }),\r\n\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Nav);","import React from 'react';\r\nimport {connect} from 'dva';\r\nimport ProductList from './ProductList';\r\nimport SelectSizesDemo from './Select';\r\nimport Cart from './Cart';\r\nimport 'antd/dist/antd.css';\r\nimport './index.css';\r\nimport Nav from \"./Nav\";\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        const {dispatch} = this.props;\r\n\r\n        dispatch({\r\n            type: 'products/query'\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={'app-index'}>\r\n                <div><SelectSizesDemo/></div>\r\n                <div>\r\n                    <Nav/>\r\n                    <ProductList/>\r\n                </div>\r\n                <div><Cart/></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect()(App);\r\n","/**\r\n * Mocking client-server processing\r\n */\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  getProducts: () => axios.get('products.json'),\r\n  buyProducts: (payload) => new Promise((resolve, reject) => setTimeout(() => resolve(payload), 2000)) //只是为了模拟axios.post的效果\r\n}\r\n","import {normalize, schema} from \"normalizr\";\r\n\r\nimport shop from \"../api/shop\";\r\n\r\nconst products = new schema.Entity(\"products\");\r\n\r\nexport default {\r\n    namespace: \"products\",\r\n    state: window.localStorage.localProducts ? JSON.parse(window.localStorage.localProducts) : {\r\n        result: [],\r\n        byId: {}\r\n    },\r\n    effects: {\r\n        * query(action, {call, put}) {\r\n            const res = yield call(shop.getProducts);\r\n            yield put({\r\n                type: \"setProducts\",\r\n                payload: normalize(res.data, [products])\r\n            });\r\n        }\r\n    },\r\n    reducers: {\r\n        setProducts: (state, {payload}) => {\r\n            return {\r\n                ...state,\r\n                byId: payload.entities.products,\r\n                result: payload.result\r\n            };\r\n        }\r\n    }\r\n};\r\n","import shop from \"../api/shop\";\r\nimport {message} from \"antd\";\r\n\r\nconst initialState = window.localStorage.localCart ? JSON.parse(window.localStorage.localCart) : {\r\n    added: [],\r\n    quantities: {},\r\n    addedSelect: [],\r\n    num: 0\r\n}\r\nexport default {\r\n    namespace: \"cart\",\r\n    state: initialState,\r\n    effects: {\r\n        * add({payload: {id,size}}, {put, select}) {\r\n            const product = yield select(state => state.products.byId[id]);\r\n            console.log('product', product);\r\n            yield product.size = size\r\n            const {cart} = yield select();\r\n\r\n\r\n            const num = cart.num + 1;\r\n            yield put({\r\n                type: 'addToCart',\r\n                payload: {\r\n                    id,\r\n                    num\r\n                }\r\n            })\r\n\r\n        },\r\n        * minus({payload: {id}}, {put, select}) {\r\n            const product = yield select(state => state.products.byId[id]);\r\n            console.log('product', product);\r\n            const {cart} = yield select();\r\n\r\n\r\n            const num = cart.num - 1;\r\n            yield put({\r\n                type: 'decrease',\r\n                payload: {\r\n                    id,\r\n                    num\r\n                }\r\n            })\r\n\r\n        },\r\n        * checkout({payload}, {call, put, select}) {\r\n            const {cart} = yield select();\r\n            console.log(\"checkout cart\", cart);\r\n            yield window.localStorage.removeItem('localCart')\r\n            const res = yield call(shop.buyProducts, cart);\r\n            yield put({\r\n                type: \"checkoutCompleted\",\r\n                payload: res\r\n            });\r\n            yield message.success('成功支付')\r\n\r\n            yield window.location.reload()\r\n        },\r\n        * delete({payload: {log, num}}, {put, select}) {\r\n            const {cart} = yield select();\r\n            const checkAdult = (logs) => {\r\n                return logs !== log\r\n            };\r\n            const deleteNum = cart.num - num\r\n            const deleteAdded = cart.added.filter(checkAdult);\r\n            console.log(cart.quantities);\r\n\r\n            yield put({\r\n                type: \"deletelog\",\r\n                payload: {\r\n                    deleteAdded: deleteAdded,\r\n                    deleteNum: deleteNum,\r\n                    log: log\r\n                }\r\n            });\r\n        }\r\n    },\r\n    reducers: {\r\n        addToCart: (state, {payload: {id, num}}) => {\r\n            console.log('state', state)\r\n            window.localStorage.localCart = JSON.stringify({\r\n                ...state,\r\n                added: state.added.includes(id) ? [...state.added] : [...state.added, id],\r\n                quantities: {\r\n                    ...state.quantities,\r\n                    [id]: (state.quantities[id] || 0) + 1\r\n                },\r\n                num: num\r\n            })\r\n            return {\r\n                ...state,\r\n                added: state.added.includes(id) ? [...state.added] : [...state.added, id],\r\n                quantities: {\r\n                    ...state.quantities,\r\n                    [id]: (state.quantities[id] || 0) + 1\r\n                },\r\n                num: num\r\n            }\r\n        },\r\n        decrease: (state, {payload: {id, num}}) => {\r\n            console.log('state', state)\r\n            return {\r\n                ...state,\r\n                added: state.added.includes(id) ? [...state.added] : [...state.added, id],\r\n                quantities: {\r\n                    ...state.quantities,\r\n                    [id]: (state.quantities[id] || 0) - 1\r\n                },\r\n                num: num\r\n            }\r\n        },\r\n        checkoutCompleted: () => initialState,\r\n        deletelog: (state, {payload: {deleteAdded, deleteNum, log}}) => {\r\n            return {\r\n                ...state,\r\n                added: deleteAdded,\r\n                num: deleteNum,\r\n                quantities: {\r\n                    ...state.quantities,\r\n                    [log]: 0\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n","import shop from \"../api/shop\";\r\n\r\n\r\nexport default {\r\n  namespace: \"selected\",\r\n  state: {size: ['XS', 'S', 'M', 'ML', 'L', 'XL', 'XXL'],\r\n  productSize:[],\r\n  change:'default',\r\n  },\r\n  \r\n  effects: {\r\n    \r\n    *add({payload: { size ,change}}, {  put ,call }) {\r\n      const res = yield call(shop.getProducts);\r\n      //const { selected } = yield select();\r\n      \r\n      const checkAdult=(product)=> {\r\n        for(let s=0; s<size.length;s++){\r\n          for(let i=0;i<product.availableSizes.length;i++){\r\n            if (size[s]===product.availableSizes[i]){\r\n              return product;\r\n            }\r\n          }\r\n      }\r\n      };\r\n      const productSize=res.data.filter(checkAdult);\r\n      const changes=change\r\n      const products=res.data.filter(checkAdult);\r\n       console.log(productSize)\r\n      yield put({\r\n          type: 'addToSize',\r\n          payload: {\r\n            size,\r\n            productSize,\r\n            changes,\r\n            products\r\n          }\r\n        })\r\n      \r\n    },\r\n    \r\n  },\r\n  reducers: {\r\n    addToSize: (state, { payload: { size,productSize ,changes,products} }) => {\r\n      return {\r\n        ...state,\r\n        size:size,\r\n        productSize:(changes==='default'?products:(changes==='Highest'?(productSize.sort((a, b)=>{return b.price - a.price})):(productSize.sort((a, b)=>{return a.price - b.price})))),\r\n        change:changes\r\n      }\r\n    },\r\n    \r\n  }\r\n};\r\n\r\n","import React from 'react';\r\nimport dva from 'dva';\r\nimport createLoading from 'dva-loading';\r\nimport App from './components/App';\r\nimport products from './models/products';\r\nimport cart from './models/cart';\r\nimport select from './models/select';\r\n\r\nconst app = dva({\r\n    onStateChange: (state) => {\r\n        console.log('变了', state)\r\n        // let localCart = JSON.stringify(state.cart)\r\n        // window.localStorage.localCart = JSON.stringify(state.cart)\r\n        window.localStorage.localProducts = JSON.stringify(state.products)\r\n    }\r\n});\r\napp.model(products);\r\napp.model(cart);\r\napp.model(select);\r\napp.use(createLoading());\r\napp.router(() => <App/>);\r\napp.start('#root');\r\n"],"sourceRoot":""}